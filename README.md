mqtt_publisher - это микросервис, который предоставляет возможность отправки сообщений в брокер mqtt. Таким образом можно управлять умными устройствами или публиковать другую полезную информацию. Этот функционал был вынесен в отдельный сервис, чтобы не перегружать клиентские приложения, которые являются источниками сообщений для публикации.

В файле socket_settings.json задаются параметры сокета, который микросервис будет прослушивать в ожидании сообщения. Полученное сообщение, если оно валидно, отправляется в брокер mqtt. Настройки подключения к брокеру задаются в файле mqtt_settings.json.

Сообщение считается валидным, если имеет формат json c полями topic и message. Результат отправки сообщения, который возвращается клиенту, содержится в константах MESSAGE_STATUS_SUCCESSFUL и MESSAGE_STATUS_UNSUCCESSFUL.

Запуск скрипта: mqtt_publisher_run.py
Клиентское приложение (для тестирования): test_client.py

Зависимости проекта перечислены в requirements.txt, но обязательным является только пакет paho-mqtt.
